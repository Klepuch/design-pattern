class State:
    def do_action(self, context):
        pass

class ConcreteStateA(State):
    def do_action(self, context):
        print("Виконання дії в ConcreteStateA.")
        context.set_state(self)

class ConcreteStateB(State):
    def do_action(self, context):
        print("Виконання дії в ConcreteStateB.")
        context.set_state(self)

class Context:
    def __init__(self, state):
        self._state = state

    def set_state(self, state):
        self._state = state

    def request(self):
        self._state.do_action(self)

# Використання
context = Context(ConcreteStateA())

context.request()  # Виконає дію в ConcreteStateA
context.request()  # Змінить стан

context.set_state(ConcreteStateB())
context.request()  # Виконає дію в ConcreteStateB
